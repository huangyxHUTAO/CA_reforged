# Minecraft PE 命令库文件格式说明

## 基本信息

- **name**：扩展包名字，标识该命令库的主题或用途。
- **author**：作者，制作该命令库的个人或团队。
- **description**：描述，简要说明该命令库的内容和特点。
- **uuid**：唯一标识符，用于区分不同的命令库。
- **version**：版本号，表示该命令库的当前版本。
- **require**：依赖项，列出该命令库依赖的其他资源或扩展。
- **minSupportVer**：最小支持版本，表示该命令库支持的最低游戏版本。
- **targetSupportVer**：目标支持版本，表示该命令库主要支持的游戏版本。

## 载荷
### 数据
- **commands**：命令集合，包含该命令库定义的所有命令及其参数。（最外层的commands应留空`{}`只在`versionPack`中写命令）

- **idlist**：ID列表，列举了该命令库包含的各类ID类型及其对应的名称。
- **enums**: ID枚举，与前面的ID列表配套

- **selectors**: 选择器枚举
- **json**：命令中会用到的json格式，例如 *物品组件*
- **help**：wiki链接

### 版本包
- **versionPack**：一样包含 **数据** 的内容，但是进行版本控制
    - **idtable**：用于管理游戏中不同实体ID的结构
    - *版本号*：用于控制不同版本的命令

大致框架：
```json
{
    // 基本信息
    "name": "扩展包名字 默认命令库",
	"author": "作者... CA制作组",
	"description": "描述... 该命令库基于Minecraft PE ... 的命令，大部分由CA制作组成员ProjectXero整理。",
	"uuid": "acf728c5-dd5d-4a38-b43d-7c4f18149fbd",
	"version": [ 1 , 0 , 0 ],
	"require": [ "acf728c5-dd5d-4a38-b43d-7c4f18149fbd" ] ,
	"minSupportVer": "0.7.4",
	"targetSupportVer": "1.18.0.23",

    // 数据
	"commands": {},

	"idlist": [ { "name" : "方块" , "list" : "block" } ],
    "enums":{ "block" : { "command_block" : "命令方块" } },

    "selectors":{
        "m": {
			"type": "enum",         //类型
			"name": "游戏模式",      //名字
			"list": "gamemode",     //id枚举
			"hasInverted": true     //可反选？
		}
    },
	"rawtext":{
        "rawtext": {
			"type": "object",
			"children": {
				"text": {
					"type": "array",
					"name": "要发送的文本",
					"children": {
						"type": "string"
					}
				},
				"score": {
					"type": "array",
					"name": "没有写完...",
					"children": {
						"type": "string"
					}
				}
			}
		}
	},
    "json":{
        "block_selector": {
			"type": "object",
			"children": {
				"blocks": {
					"type": "array",
					"name": "方块列表",
					"children": {
						"type": "string",
						"suggestion": "block"
					}
				}
			}
		},
        "item_component": {
			"type": "object",
			"name": "物品组件",
			"children": {
				"minecraft:can_place_on": {
					"name": "冒险模式下仅能放置于……方块上",
					"extends": "block_selector" // 引用之前定义的block_selector
				}
            }
        }
    },
    
    "json":{ "command" : "https://zh.minecraft.wiki/%E5%91%BD%E4%BB%A4" },

    // 版本包
    "versionPack":{
        "idtable": {
			"mode": "overwrite",
			"maxSupportVer": "1.1.*",
			"enums": {
				"item": {},
				"block": {},
				"entity": {}
			}
        },
        "0.16.0": {
			"commands": {
				"say": {
					"description": "向所有在线玩家广播信息",
					"patterns": {
						"default": {
							"params": [
								{
									"type": "text",
									"name": "信息"
								}
							]
						}
					},
					"help": "https://zh.minecraft.wiki/%E5%91%BD%E4%BB%A4/say"
				}
			}
        }
}
```